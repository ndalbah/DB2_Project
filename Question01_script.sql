CONNECT system/sysdba
alter session set "_ORACLE_SCRIPT"=true; 


CREATE USER flight IDENTIFIED BY flight
DEFAULT TABLESPACE USERS;
GRANT UNLIMITED TABLESPACE TO FLIGHT;
GRANT CONNECT,RESOURCE TO flight ;
CONNECT flight/flight; 



--DROP TABLE CITY CASCADE CONSTRAINTS;
--DROP TABLE PILOT CASCADE CONSTRAINTS;
--DROP TABLE PLANE CASCADE CONSTRAINTS;
--DROP TABLE FLIGHT CASCADE CONSTRAINTS;

CREATE TABLE CITY(
CITY_ID		NUMBER(3) CONSTRAINT PK_CITY PRIMARY KEY,
CITY_NAME	VARCHAR2(20));

CREATE TABLE PILOT(
PILOT_ID	NUMBER(3) CONSTRAINT PK_PILOT PRIMARY KEY,
LAST_NAME	VARCHAR2(20),
FIRST_NAME	VARCHAR2(20),
CITY_ID		NUMBER(3) CONSTRAINT FK_CITY_ID_PILOT REFERENCES CITY(CITY_ID),
SALARY		NUMBER(7,2));

CREATE TABLE PLANE(
PLA_ID		NUMBER(2) CONSTRAINT Pk_AEORPLANE PRIMARY KEY,
PLA_DESC	VARCHAR2(20),
MAX_PASSENGER	NUMBER(3),
CITY_ID		NUMBER(3) CONSTRAINT FK_CITY_ID_AERO REFERENCES CITY(CITY_ID));

CREATE TABLE FLIGHT(
FLIGHT_ID	NUMBER(3),
PILOT_ID	NUMBER(3) CONSTRAINT FK_PILOT_ID REFERENCES PILOT(PILOT_ID),
PLA_ID		NUMBER(2) CONSTRAINT FK_PLA_ID REFERENCES PLANE(PLA_ID),
CITY_DEP	NUMBER(3) CONSTRAINT FK_CITY_ID_FLIGH1 REFERENCES CITY(CITY_ID),
CITY_ARR	NUMBER(3) CONSTRAINT FK_CITY_ID_FLIGHT2 REFERENCES CITY(CITY_ID),
DEP_DATE        DATE,
DEP_TIME	NUMBER(4),
ARR_TIME	NUMBER(4),
CONSTRAINT PK_FLIGHT PRIMARY KEY(FLIGHT_ID,DEP_DATE));

--  CITY

INSERT INTO CITY VALUES(100,'OTTAWA');
INSERT INTO CITY VALUES(101,'QUEBEC');
INSERT INTO CITY VALUES(102,'MONTREAL');
INSERT INTO CITY VALUES(103,'TORONTO');
INSERT INTO CITY VALUES(104,'VICTORIA');
INSERT INTO CITY VALUES(105,'EDMONTON');



-- PILOTE


INSERT INTO PILOT VALUES(1,'FANTASSO','ALBERT',100,7000);
INSERT INTO PILOT VALUES(2,'PETERS','FRANK',101,7000);
INSERT INTO PILOT VALUES(3,'ROSS','PAUL',102,6000);
INSERT INTO PILOT VALUES(4,'MIRANDA','SERGE',100,5800);
INSERT INTO PILOT VALUES(5,'TALADOIRE','GILLES',101,6200);
INSERT INTO PILOT VALUES(6,'BONFILS','GERARD',101,6000);
INSERT INTO PILOT VALUES(7,'LAHRIRE','PHILLIPE',103,5200);
INSERT INTO PILOT VALUES(8,'MARCENAC','PIERRE',102,5800);
INSERT INTO PILOT VALUES(9,'CAVARERO','ERIC',102,6000);
INSERT INTO PILOT VALUES(10,'TAYLOR','ROBERT',100,6800);



-- PLANE

INSERT INTO PLANE VALUES(1,'A300',300,102);
INSERT INTO PLANE VALUES(2,'A310',300,102);
INSERT INTO PLANE VALUES(3,'B727',250,100);
INSERT INTO PLANE VALUES(4,'A300',280,103);
INSERT INTO PLANE VALUES(5,'CONCORDE',160,102);
INSERT INTO PLANE VALUES(6,'B747',460,100);
INSERT INTO PLANE VALUES(7,'B727',250,100);
INSERT INTO PLANE VALUES(8,'A310',300,101);
INSERT INTO PLANE VALUES(9,'B737',350,103);
INSERT INTO PLANE VALUES(10,'CONCORDE',160,100);



--  FLIGHT 

INSERT INTO FLIGHT VALUES(100,1,1,102,103,'12-oct-2021',1100,1430);
INSERT INTO FLIGHT VALUES(101,1,8,100,103,to_date('12-10-2021','dd-mm-yyyy'),1700,2000);
INSERT INTO FLIGHT VALUES(102,2,1,101,103,'10-nov-2021',1400,1600);
INSERT INTO FLIGHT VALUES(103,5,3,101,103,'05-may-2021',1800,2000);
INSERT INTO FLIGHT VALUES(104,9,1,100,102,'14-apr-2021',0645,0730);
INSERT INTO FLIGHT VALUES(105,10,2,103,102,'12-jan-2021',1100,1400);
INSERT INTO FLIGHT VALUES(106,1,4,102,103,'31-dec-2021',0800,1100);
INSERT INTO FLIGHT VALUES(107,8,4,102,100,'25-feb-2021',0715,0800);
INSERT INTO FLIGHT VALUES(108,1,8,104,103,'13-jun-2021',0900,1300);
INSERT INTO FLIGHT VALUES(109,9,2,102,100,to_date('18-08-2021','dd-mm-yyyy'),1215,1300);
INSERT INTO FLIGHT VALUES(110,4,5,100,103,'04-sep-2021',1500,1800);
INSERT INTO FLIGHT VALUES(111,1,2,103,104,'13-aug-2021',1630,2030);
INSERT INTO FLIGHT VALUES(112,4,5,102,105,'15-nov-2021',1100,1420);
INSERT INTO FLIGHT VALUES(113,3,5,105,100,'18-oct-2021',1500,1800);
INSERT INTO FLIGHT VALUES(114,8,9,100,101,'26-dec-2021',1700,1830);
INSERT INTO FLIGHT VALUES(115,7,5,100,101,'14-nov-2021',1800,1930);
COMMIT;

